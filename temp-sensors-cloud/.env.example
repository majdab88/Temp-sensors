# ============================================================
# Temp-sensors Cloud — Environment Variables
# Copy this file to .env and fill in every value.
# NEVER commit .env to git.
# ============================================================

# Your server's fully-qualified domain name.
# Used in nginx.conf and mosquitto.conf — replace YOUR_DOMAIN in both files.
DOMAIN=majdtemp32.duckdns.org

# ----------------------------------------------------------
# PostgreSQL
# ----------------------------------------------------------
POSTGRES_DB=tempsensors
POSTGRES_USER=tempsensors
# Generate: openssl rand -hex 32
POSTGRES_PASSWORD=change_me_strong_db_password

# ----------------------------------------------------------
# MQTT
# ----------------------------------------------------------
# Internal URL used by the backend service to reach the broker inside Docker.
# Do NOT change this — it points to the mosquitto container on the internal network.
# (Already hardcoded in docker-compose.yml; listed here for documentation only.)
# MQTT_URL=mqtt://mosquitto:1883

# External TLS URL sent to ESP32 hubs during BLE provisioning.
# This is the address your hub will connect to from the internet.
MQTT_HUB_URL=mqtts://majdtemp32.duckdns.org:8883

# Shared MQTT credentials for hub devices.
# All hubs connect with the same user/pass; the hub MAC in the topic path identifies each device.
# Add this user to Mosquitto: docker exec mosquitto mosquitto_passwd -b /mosquitto/config/passwd hub your_hub_password
# Then add the ACL entry and restart Mosquitto (see comments below).
MQTT_HUB_USER=hub
# Generate: openssl rand -hex 16
MQTT_HUB_PASS=change_me_strong_hub_password

# Backend service account — must match the entry in mosquitto/passwd (username: backend).
MQTT_BACKEND_USER=backend
# Generate: openssl rand -hex 32
MQTT_BACKEND_PASS=change_me_strong_mqtt_password

# ----------------------------------------------------------
# JWT secrets
# Generate each with: openssl rand -hex 64
# ----------------------------------------------------------
JWT_SECRET=change_me_generate_with_openssl_rand_hex_64
JWT_REFRESH_SECRET=change_me_generate_with_openssl_rand_hex_64_different_value

# ----------------------------------------------------------
# Admin dashboard credentials
# ADMIN_PASSWORD_HASH: bcrypt hash of the admin password (cost 12).
# Generate: node -e "require('bcrypt').hash('yourpassword',12).then(console.log)"
# ----------------------------------------------------------
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=$2b$12$replacethiswithyourbcrypthash
